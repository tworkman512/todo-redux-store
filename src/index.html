<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      Redux Todos goals
    </title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/3.7.2/redux.min.js"></script>
    <script src="https://unpkg.com/react@16.3.0-alpha.1/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.3.0-alpha.1/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <main>
      <section>
        <section>
          <h1>Todo List</h1>
          <input id='todo' type='text' placeholder='Add Todo'/>
          <button id='todoBtn'>Add Todo</button>
          <ul id='todos'></ul>
        </section>
        <section>
          <h1>Goals</h1>
          <input id='goal' type='text' placeholder='Add Goal'/>
          <button id='goalBtn'>Add Goal</button>
          <ul id='goals'></ul>
        </section>
      <section>
    </main>

    <hr />

    <div id='app'></div>
    <script src='index.js'></script>
    <script type='text/babel'>
      function List(props) {
        return (
          <ul>
            <li>LIST</li>
          </ul>
        )
      }

      class Todos extends React.Component {
        addItem = (e) => {
          e.preventDefault()
          const name = this.input.value
          this.input.value = ''

          this.props.store.dispatch(addTodoAction({
            name,
            complete: false,
            id: generateId(),
          }))
        }

        render() {
          return (
            <div>
              <h1>Todo List</h1>
              <input
                type='text'
                placeholder='Add Todo'
                ref={(input) => this.input = input}
              />
              <button onClick={this.addItem}>Add Todo</button>
              <List />
            </div>
          )
        }
      }

      class Goals extends React.Component {
        addItem = (e) => {
          e.preventDefault()
          const name = this.input.value
          this.input.value = ''

          this.props.store.dispatch(addGoalAction({
            name,
            id: generateId(),
          }))
        }
        render() {
          return (
            <div>
              <h1>Goals</h1>
              <input
                type='text'
                placeholder='Add Goal'
                ref={(input) => this.input = input}
              />
              <button onClick={this.addItem}>Add Goal</button>

              <List />
            </div>
          )
        }
      }

      class App extends React.Component {
        render() {
          return (
            <div>
              <Todos store={this.props.store}/>
              <Goals store={this.props.store}/>
            </div>
          )
        }
      }
      ReactDOM.render(
        <App store={store}/>,
        document.getElementById('app')
      )
    </script>
  </body>
</html>
